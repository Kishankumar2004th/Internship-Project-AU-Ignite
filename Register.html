<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="LoginRegister.css">
</head>
<body>
    <div class="a1">
      <div class="a2">
        <h1 id="a1">Create an</h1>
        <h2 id="a2">Account!</h2>
      </div>
      <form id="registerForm">
        <div class="a4"><input type="text" placeholder="  User Name" class="a3" required></div>
        <div class="a4"><input type="email" placeholder="  Email Adress" class="a3" required></div>
        <div class="a4"><input type="password" placeholder="  Password" class="a3" required></div>
        <div class="a4"><input type="password" placeholder="  Confirm Password" class="a3" required></div>
        <div class="a4"><button class="a3" id="a3">Register</button></div>
        <!-- <div class="a6"><a href="">Forget Password</a></div> -->
        <!-- <div class="a7"><p>Don't have an account <a href="">Sign up</a></p></div> -->
      </form>
    </div>


    <script>
      document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('registerForm');
    
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const inputs = document.querySelectorAll('#registerForm input');
        const username = inputs[0].value.trim();
        const email = inputs[1].value.trim();
        const password = inputs[2].value;
        const confirmPassword = inputs[3].value;
        
        // Validation
        if (!username || !email || !password || !confirmPassword) {
            alert('Please fill in all fields');
            return;
        }
        
        if (password !== confirmPassword) {
            alert('Passwords do not match');
            return;
        }
        
        if (password.length < 6) {
            alert('Password must be at least 6 characters long');
            return;
        }
        
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            alert('Please enter a valid email address');
            return;
        }
        
        // Get existing users
        const users = JSON.parse(localStorage.getItem('users')) || [];
        
        // Check if email already exists
        if (users.some(u => u.email === email)) {
            alert('Email already registered!');
            return;
        }
        
        // Create new user with expanded data structure
        const newUser = {
            id: Date.now().toString(),
            name: username,
            email: email,
            password: password, // Note: In production, this should be hashed
            attendance: [
                {date: '2024-09-15', status: 'present'},
                {date: '2024-09-16', status: 'present'},
                {date: '2024-09-17', status: 'absent'},
                {date: '2024-09-18', status: 'present'},
                {date: '2024-09-19', status: 'present'}
            ],
            assignments: [],
            tests: [
                {id: '1', name: 'Mathematics Quiz', score: 85, date: '2024-09-10'},
                {id: '2', name: 'Science Test', score: 78, date: '2024-09-12'},
                {id: '3', name: 'English Essay', score: 90, date: '2024-09-14'},
                {id: '4', name: 'Computer Programming', score: 95, date: '2024-09-16'}
            ]
        };
        
        users.push(newUser);
        localStorage.setItem('users', JSON.stringify(users));
        
        alert('Registration successful! Please login.');
        window.location.href = 'Login.html';
    });
});
    </script>
</body>
</html>